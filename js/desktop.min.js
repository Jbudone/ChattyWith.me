(function(a){a.reflowTime=100;a.safeReflowTime=500;a.cubeSettings={transitionTime:400};a.userOptionsSettings={waitModeTimer:700,offsetTop:225,offsetLeft:330,minTop:0,animationTime:120};a._promptPlaceholder="Type Inside of Me!"})(settings);var pre_setup=function(){};Message.prototype.getClassesFromType=function(a){var b={user:[],time:[],message:[],container:[]};if(a.match(/error/)){b.message=["message-error"]}else if(a.match(/success/)){b.container=b.message=["message-success","ui-link"]}else if(a.match(/action/)){b.container=b.message=b.user=["message-action"]}else if(a.match(/message/)){}else if(a.match(/whisper/)){}else if(a.match(/event/)){b.container=["ui-link"];b.time=["hidden"]}else if(a.match(/startup/)){b.container=["message-startup"]}else{b.container=["ui-link"]}if(a.match(/self/)){b.container=b.user=["message-self"]}if(a.match(/old/)){b.container=["message-old"]}return b};Terminal.scrollToBottom=function(a){var b=250,c=150;if(a||document.getElementById("console-cube-front").scrollHeight-document.getElementById("console-cube-front").offsetHeight<=document.getElementById("console-cube-front").scrollTop+b){setTimeout(function(){document.getElementById("console").scrollIntoView(false)},c)}};Terminal.hk_swapChannel_pre=function(a,b){var c=settings.cubeSettings.transitionTime;try{document.getElementById("channels-selected").setAttribute("id","");this._prevChanid=client.activeChanRef["chanid"];var d=document.getElementById("console"),e=d.cloneNode(true),f=b?document.getElementById("console-cube-left"):document.getElementById("console-cube-right"),g=b?"left":"right";d.setAttribute("id","_console");f.appendChild(e);document.getElementById("console-cube").className="console-cube-turntocube console-cube-animate-"+g+"1";document.getElementById("console-cube").className="console-cube-turntocube console-cube-animate-"+g+"2";setTimeout(function(){document.getElementById("_console").parentNode.removeChild(document.getElementById("_console"));var a=document.getElementById("console"),b=a.cloneNode(true);document.getElementById("wrapper-cube").style.height=document.getElementById("wrapper-cube").offsetHeight+"px";document.getElementById("wrapper-cube").style.width=document.getElementById("wrapper-cube").offsetWidth+"px";document.getElementById("console-cube").className="console-cube-reset";a.parentNode.removeChild(a);document.getElementById("console-cube-front").appendChild(b);setTimeout(function(){document.getElementById("console-cube").className="";document.getElementById("wrapper-cube").style.height="";document.getElementById("wrapper-cube").style.width=""},c)},c)}catch(h){window["console"].log(h)}finally{setTimeout(function(){leftPos=$('.channels-chanitem[chanid="'+a+'"]').attr({id:"channels-selected"}).position().left;document.getElementById("channels-selector").style.left=leftPos+"px"},settings.reflowTime)}};Terminal.hk_swapChannel_post=function(a,b){var c=document.getElementById("styleChanDisplay");c.innerHTML+="#_console .chanitem:not(.chanid-"+this._prevChanid+") { display:none !important; } ";document.getElementsByTagName("head").item(0).removeChild(c);document.getElementsByTagName("head").item(0).appendChild(c);var d=document.getElementById("rc-userlist"),e,f=client.activeChanRef.users,g,h=document.getElementById("rc-details-channame"),i=client.activeChanRef.users;h.innerHTML=client.channels[a].channame;while(d.children.length>0){d.removeChild(document.getElementById("rc-userlist").children[0])}if(f){g=document.createDocumentFragment();for(e in f){var j=this._addUser(i,e,f[e].status,f[e].nick,true);g.appendChild(j)}d.appendChild(g)}setTimeout(function(){Terminal.scrollToBottom(true)},settings.safeReflowTime)};Terminal._addUser=function(a,b,c,d,e){var f=document.createElement("a");f.setAttribute("href","#");f.setAttribute("status",c);f.userdetails={userid:b,status:c,nick:d,element:f};f.appendChild(document.createTextNode(d));f.className="channel-user";f.onclick=f.oncontextmenu=function(){if(Terminal._isUserBoxShowing)Terminal._switchUserBox(this.userdetails);else Terminal._showUserBox(this.userdetails);return false};a[b]._element=f;if(e)return f;else document.getElementById("rc-userlist").appendChild(f)};Terminal._remUser=function(a,b){$(a.users[b]._element).remove()};Terminal._changeUser=function(a,b,c){a[b].status=c;a[b]._element.setAttribute("status",c)};Terminal.openChannelWin=function(a,b){var c=document.createElement("div"),d=document.createElement("a");c.className="channels-chanitem";c.setAttribute("chanid",""+b);d.className="channels-chanitem-link";d.setAttribute("chanid",""+b);d.setAttribute("href","#");c.appendChild(d);document.getElementById("channels").appendChild(c);d.onclick=function(){var a=function(){var a=client,c,d=client.activeChanRef["chanid"];for(c in a.channels){if(c==b)return true;else if(c==d)return false}}();Terminal.swapChannel(b,a);return false}};Terminal.removeChannelWin=function(a){$('.channels-chanitem[chanid="'+a+'"]').remove()};Terminal.removeChannelWins=function(){for(var a in client.channels){if(a==0)continue;Terminal.removeChannelWin(a)}};Terminal._isUserBoxShowing=false;Terminal._showUserBox=function(a){this._isUserBoxShowing=true;this._userBoxOnWaitMode=true;setTimeout(function(){Terminal._userBoxOnWaitMode=false},settings.userOptionsSettings.waitModeTimer);Terminal._userSelected=a;document.getElementById("user-optionscontainer").setAttribute("powermode",client.activeChanRef.users[client.usrid].status);var b=Math.max(settings.userOptionsSettings.minTop,$(a.element).offset().top-settings.userOptionsSettings.offsetTop),c=$(a.element).offset().left-settings.userOptionsSettings.offsetLeft,d=Math.min(0,$(a.element).offset().top-settings.userOptionsSettings.offsetTop-settings.userOptionsSettings.minTop);document.getElementById("user-optionscontainer").style.top=b+"px";document.getElementById("user-optionscontainer").style.left=c+"px";document.getElementById("user-optionscontainer").className="";document.getElementById("ob-container-string1").style.marginTop=d+"px";document.getElementById("ob-container-string2").style.marginTop=d+"px";document.getElementById("ob-container-string3").style.marginTop=d+"px";setTimeout(function(){document.getElementById("ob-container-string1").className="";document.getElementById("ob-container-string2").className="";document.getElementById("ob-container-string3").className="";document.getElementById("user-optionsbox").className=""},settings.reflowTime)};Terminal._hideUserBox=function(){if(!this._isUserBoxShowing)return;this._isUserBoxShowing=false;document.getElementById("ob-container-string1").className="off";document.getElementById("ob-container-string2").className="off";document.getElementById("ob-container-string3").className="off";document.getElementById("user-optionsbox").className="off";setTimeout(function(){document.getElementById("user-optionscontainer").className="off"},settings.userOptionsSettings.animationTime)};Terminal._switchUserBox=function(a){this._hideUserBox();setTimeout(function(){Terminal._showUserBox(a)},settings.userOptionsSettings.animationTime)};(function(){$("*:not(#user-optionscontainer>*):not(.channel-user)").click(function(){if(Terminal._userBoxOnWaitMode)return;Terminal._hideUserBox()})})();client.hk_initialize_post=function(){document.body.style.display="none";pre_setup();setupPage();Terminal.openChannelWin("server",0);document.body.style.display="";setTimeout(function(){Terminal.swapChannel(0);setTimeout(function(){leftPos=$('.channels-chanitem[chanid="0"]').attr({id:"channels-selected"}).position().left;document.getElementById("channels-selector").style.left=leftPos+"px"},settings.reflowTime)},settings.reflowTime);Terminal.print_preset("loaded");(new Event).fromObject({eventid:ECMD_STATUS}).request(function(a){if(a.identification){client.usrNick=a.nick;client.usrIdentification=a.identification;client.usrid=a.userid;Terminal.print_preset("logon");Terminal.scrollToBottom(true);client.longpoll()}else if(localStorage&&localStorage.getItem("identification")){(new Event).fromObject({eventid:ECMD_IDENTIFY,id:localStorage.getItem("identification")}).request(function(a){client.usrNick=a.nick;client.usrIdentification=a.identification;client.usrid=a.userid;Terminal.print_preset("logon");Terminal.scrollToBottom(true);client.longpoll()})}else{Terminal.print_preset("loaded_loggedout")}return false})};var setupPage=function(){var a=function(){Events.Event[ECMD_LOGIN].hooks.reqSuccess=Events.Event[ECMD_IDENTIFY].hooks.reqSuccess=function(a){Terminal.print_preset("logon");Terminal.scrollToBottom(true)};Events.Event[ECMD_LOGIN].hooks.reqSuccessError=Events.Event[ECMD_IDENTIFY].hooks.reqSuccessError=function(a,b){};Events.Event[ECMD_LOGOUT].hooks.reqSuccess=function(a,b){};Events.Event[ECMD_STATUS].hooks.reqSuccess=function(a,b){};Events.Event[ECMD_LEAVE].hooks.reqSuccess=function(a,b){};Events.Event[ECMD_JOIN].hooks.reqSuccess=function(a,b){};Events.Event[ECMD_MESSAGE].hooks.reqSuccess=function(a,b){};hk_server_event_append_message=function(){Terminal.print_message(this.arguments.chanid,this.arguments,false,false)};hk_server_event_prepend_message=function(){Terminal.print_message(this.arguments.chanid,this.arguments,true,false)};hk_server_event_append_whisper=function(){Terminal.print_message(null,this.arguments,false,false)};hk_server_event_append_log=function(a,b){Terminal.print(client.activeChanRef.chanid,b["message"],b["type"]);Terminal.scrollToBottom(true)};hk_server_event_add_messages_completed=function(){Terminal.scrollToBottom()};hk_server_event_from_undefined_event=function(){};hk_event_request_from_undefined_event=function(){Terminal.print(client.activeChanRef.chanid,"We're not exactly sure what you're trying to do.. ^o)","error");Terminal.scrollToBottom()};hk_server_event_exception_thrown=function(a,b){Terminal.print(client.activeChanRef.chanid,"exception thrown: "+b.message,"error");Terminal.scrollToBottom()};hk_event_request_exception_thrown=function(a,b){Terminal.print(client.activeChanRef.chanid,"exception thrown: "+b.message,"error");Terminal.scrollToBottom()};hk_event_parsed_bad_format=function(){Terminal.print(client.activeChanRef.chanid,"Error parsing command: "+this.evtref.help,"error");Terminal.scrollToBottom()};hk_event_unknown_command=function(a,b){Terminal.print(client.activeChanRef.chanid,"Unknown command (^15"+b+"^1).. ^o)","error");Terminal.scrollToBottom()};hk_server_response_error=function(a,b){};client.hk_messagesreceived_post=function(){Terminal.scrollToBottom()};client.hk_user_joined_post=function(){Terminal._addUser(client.channels[this.arguments.chanid].users,this.arguments.suserid,this.arguments.status,this.arguments.nick,false)};client.hk_user_left_pre=function(){Terminal._remUser(client.channels[this.arguments.chanid],this.arguments.duserid)};client.hk_user_changed_post=function(){Terminal._changeUser(client.channels[this.arguments.chanid].users,this.arguments.duserid,this.arguments.status)};client.hk_channel_changed_post=function(){}};var b=function(){var a=document.createDocumentFragment(),b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div"),g=document.getElementById("main"),h=g.cloneNode(true),i=h.children[0],j=i.cloneNode(true),k=document.createElement("div"),l=document.createElement("div"),m=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),p=document.createElement("div"),q=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");b.setAttribute("id","wrapper1");c.setAttribute("id","wrapper2");d.setAttribute("id","wrapper3");e.setAttribute("id","wrapper4");f.setAttribute("id","wrapper-console");k.setAttribute("id","wrapper-cube");l.setAttribute("id","console-cube");m.setAttribute("id","console-cube-top");n.setAttribute("id","console-cube-front");o.setAttribute("id","console-cube-left");p.setAttribute("id","console-cube-right");q.setAttribute("id","console-cube-back");r.setAttribute("id","console-cube-bottom");s.setAttribute("id","loading-indicator");m.className=n.className=o.className=p.className=r.className=q.className="face";n.appendChild(s);n.appendChild(j);l.appendChild(m);l.appendChild(o);l.appendChild(p);l.appendChild(q);l.appendChild(r);l.appendChild(n);k.appendChild(l);document.body.removeChild(g);h.removeChild(i);f.appendChild(k);h.insertBefore(f,h.getElementsByTagName("footer")[0]);e.appendChild(h);d.appendChild(e);c.appendChild(d);b.appendChild(c);a.appendChild(b);document.body.appendChild(a);var t=document.createDocumentFragment(),u=document.createElement("header"),v=document.createElement("img"),w=document.createElement("div"),x=document.createElement("img"),y=document.createElement("img"),z=document.createElement("img"),A=document.createElement("img");w.appendChild(x);w.appendChild(y);w.appendChild(z);w.appendChild(A);u.appendChild(v);u.appendChild(w);t.appendChild(u);document.body.insertBefore(t,document.body.childNodes[0]);var B=document.createDocumentFragment(),C=document.createElement("div"),D=document.createElement("div"),E=document.createElement("div"),F=document.createElement("div"),G=document.createElement("div");C.setAttribute("id","channel-details");D.setAttribute("id","cd-channel-door");E.setAttribute("id","chan-title");F.setAttribute("id","channels");G.setAttribute("id","channels-selector");F.appendChild(G);C.appendChild(D);C.appendChild(E);C.appendChild(F);B.appendChild(C);document.getElementById("wrapper-console").appendChild(B);var H=document.createDocumentFragment(),I=document.createElement("div"),J=document.createElement("a"),K=document.createElement("div"),L=document.createElement("div"),M=document.createElement("div"),N=document.createElement("div"),O=document.createElement("a"),P=document.createElement("img");I.setAttribute("id","prompt-goodies");J.setAttribute("id","gd-colours");J.setAttribute("href","#");K.className="gd-colours-img";L.className="gd-colours-img";M.className="gd-colours-img";N.className="gd-colours-img";K.style.background="blue";L.style.background="green";M.style.background="orange";N.style.background="yellow";O.setAttribute("id","gd-emoticons");O.setAttribute("href","#");P.setAttribute("src","images/emoticons/happy.gif");J.appendChild(K);J.appendChild(L);J.appendChild(M);J.appendChild(N);I.appendChild(J);O.appendChild(P);I.appendChild(O);H.appendChild(I);document.getElementById("footer").insertBefore(H,document.getElementById("fPrompt"));var Q=document.createDocumentFragment(),R=document.createElement("div"),S=document.createElement("div"),T=document.createElement("div"),U=document.createElement("div"),V=document.createElement("fieldset"),W=document.createElement("div"),X=document.createElement("img"),Y=document.createElement("img"),Z=document.createElement("div"),$=document.createElement("div"),_=document.createElement("div"),ba=document.createElement("legend"),bb=document.createElement("div"),bc=document.createElement("div"),bd=document.createElement("a"),be=document.createElement("img");_rcChan_List=document.createElement("a"),_rcChan_ListImg=document.createElement("img");R.setAttribute("id","right-container");S.setAttribute("id","rc-section-top");T.setAttribute("id","rc-section-midupper");U.setAttribute("id","rc-section-midlower");V.setAttribute("id","rc-section-bottom");W.setAttribute("id","rc-section-bottomlogo");Y.setAttribute("id","rc-logo");X.setAttribute("id","rc-logoruby");Z.setAttribute("id","rc-details");$.setAttribute("id","rc-chanoptions");ba.setAttribute("id","rc-details-channame");_.setAttribute("id","rc-userlist");Y.setAttribute("src","images/logo-2.png");X.setAttribute("src","images/ruby2.png");bb.setAttribute("id","rc-details-server");bc.setAttribute("id","rc-details-ping");bd.setAttribute("id","rc-chan-leave");bd.setAttribute("href","#");be.setAttribute("src","images/icon-leave.png");_rcChan_List.setAttribute("id","rc-chan-list");_rcChan_List.setAttribute("href","#");_rcChan_ListImg.setAttribute("src","images/icon-list.png");bb.innerHTML="Server: "+location.hostname;Z.appendChild(bb);Z.appendChild(bc);bd.appendChild(be);_rcChan_List.appendChild(_rcChan_ListImg);$.appendChild(bd);$.appendChild(_rcChan_List);S.appendChild(Y);T.appendChild(Z);U.appendChild($);V.appendChild(ba);V.appendChild(_);W.appendChild(X);R.appendChild(S);R.appendChild(T);R.appendChild(U);R.appendChild(V);R.appendChild(W);Q.appendChild(R);document.getElementById("wrapper-console").insertBefore(Q,document.getElementById("consosole"));var bf=document.createDocumentFragment(),bg=document.createElement("div"),bh=document.createElement("div"),bi=document.createElement("div"),bj=document.createElement("div"),bk=document.createElement("div"),bl=document.createElement("div"),bm=document.createElement("div"),bn=document.createElement("div");_obString1i=document.createElement("div"),_obString2i=document.createElement("div"),_obString3i=document.createElement("div"),_cbOption_Whois=document.createElement("a"),_cbOption_Kick=document.createElement("a"),_cbOption_Ban=document.createElement("a"),_cbOption_Voice=document.createElement("a"),_cbOption_Chanop=document.createElement("a"),_cbOption_Stripop=document.createElement("a");bg.setAttribute("id","user-optionscontainer");bh.setAttribute("id","user-optionsbox");bi.setAttribute("id","ob-container-string1");bj.setAttribute("id","ob-container-string2");bk.setAttribute("id","ob-container-string3");bl.setAttribute("id","ob-string1");bm.setAttribute("id","ob-string2");bn.setAttribute("id","ob-string3");_obString1i.setAttribute("id","ob-string1i");_obString2i.setAttribute("id","ob-string2i");_obString3i.setAttribute("id","ob-string3i");_cbOption_Whois.setAttribute("id","ob-option-whois");_cbOption_Kick.setAttribute("id","ob-option-kick");_cbOption_Ban.setAttribute("id","ob-option-ban");_cbOption_Voice.setAttribute("id","ob-option-voice");_cbOption_Chanop.setAttribute("id","ob-option-chanop");_cbOption_Stripop.setAttribute("id","ob-option-stripop");bg.className="off";bh.className="off";bi.className="off";bj.className="off";bk.className="off";_cbOption_Whois.setAttribute("href","#");_cbOption_Kick.setAttribute("href","#");_cbOption_Ban.setAttribute("href","#");_cbOption_Voice.setAttribute("href","#");_cbOption_Chanop.setAttribute("href","#");_cbOption_Stripop.setAttribute("href","#");_cbOption_Whois.className="user-option";_cbOption_Kick.className="user-option powermode-operator";_cbOption_Ban.className="user-option powermode-operator";_cbOption_Voice.className="user-option powermode-operator";_cbOption_Chanop.className="user-option powermode-operator";_cbOption_Stripop.className="user-option powermode-operator";_cbOption_Whois.innerHTML="Who Are You";_cbOption_Kick.innerHTML="Kick User";_cbOption_Ban.innerHTML="Ban User";_cbOption_Voice.innerHTML="Give Voice Status";_cbOption_Chanop.innerHTML="Give Channel Operator Status";_cbOption_Stripop.innerHTML="Strip User Status";bh.appendChild(_cbOption_Whois);bh.appendChild(_cbOption_Kick);bh.appendChild(_cbOption_Ban);bh.appendChild(_cbOption_Voice);bh.appendChild(_cbOption_Chanop);bh.appendChild(_cbOption_Stripop);bi.appendChild(bl);bj.appendChild(bm);bk.appendChild(bn);bi.appendChild(_obString1i);bj.appendChild(_obString2i);bk.appendChild(_obString3i);bg.appendChild(bh);bg.appendChild(bi);bg.appendChild(bj);bg.appendChild(bk);bf.appendChild(bg);document.body.appendChild(bf);var bo=document.createDocumentFragment(),bp=document.createElement("div");bp.setAttribute("id","cw-colours-container");bp.style.display="none";bo.appendChild(bp);document.getElementById("wrapper4").appendChild(bo);var bq=document.createDocumentFragment(),br=document.createElement("div");br.setAttribute("id","ew-emoticons-container");br.style.display="none";bq.appendChild(br);document.getElementById("wrapper4").appendChild(bq)};var c=function(){var a=document.createDocumentFragment();var b=document.createElement("link");b.setAttribute("rel","stylesheet/less");b.setAttribute("type","text/css");b.setAttribute("href","styles/desktop.css");a.appendChild(b);var c=document.createElement("script");c.setAttribute("src","js/less-1.3.0.min.js");a.appendChild(c);document.getElementsByTagName("head").item(0).appendChild(a)};var d=function(){document.getElementById("ob-option-whois").onclick=function(){(new Event).fromObject({eventid:ECMD_WHOIS,nick:Terminal._userSelected.nick}).request();return false};document.getElementById("ob-option-kick").onclick=function(){(new Event).fromObject({eventid:ECMD_KICK,chanid:client.activeChanRef.chanid,kickid:Terminal._userSelected.nick,reason:"meh"}).request();return false};document.getElementById("ob-option-ban").onclick=function(){(new Event).fromObject({eventid:ECMD_BAN,chanid:client.activeChanRef.chanid,username:Terminal._userSelected.nick}).request();return false};document.getElementById("ob-option-voice").onclick=function(){(new Event).fromObject({eventid:ECMD_CHANOP,chanid:client.activeChanRef.chanid,opid:Terminal._userSelected.nick,optype:"1"}).request();return false};document.getElementById("ob-option-chanop").onclick=function(){(new Event).fromObject({eventid:ECMD_CHANOP,chanid:client.activeChanRef.chanid,opid:Terminal._userSelected.nick,optype:"0"}).request();return false};document.getElementById("ob-option-stripop").onclick=function(){(new Event).fromObject({eventid:ECMD_CHANOP,chanid:client.activeChanRef.chanid,opid:Terminal._userSelected.nick,optype:"2"}).request();return false};document.getElementById("rc-chan-leave").onclick=function(){(new Event).fromObject({eventid:ECMD_LEAVE,chanid:client.activeChanRef.chanid}).request();return false};document.getElementById("rc-chan-list").onclick=function(){var a=new Event;a.fromObject({eventid:ECMD_LIST}).request(function(b){var c,d="^13CHANNEL LIST\\n      ";for(c in b.channels){d+="^8#"+b.channels[c].name+" ^1(^0"+b.channels[c].users+"^1)"+(b.channels[c].topic?" - ^11"+b.channels[c].topic:"")+"\\n      "}client.handle_evtMessage.call(a,{type:"",data:"",message:d})});return false};(function(){var a=document.getElementById("console-cube-front"),b=0,c=document.getElementById("loading-indicator");$(document.getElementById("console-cube-front")).scroll(function(){if(client.activeChanRef.chanid==0)return;var d=a.scrollHeight;if(a.scrollTop<=b){c.style.display="block";Terminal.loadOlder.load(function(b){console.log(b);c.style.display="";a.scrollTop=a.scrollHeight-d})}})})();(function(){var a=document.getElementById("rc-details-ping"),b=document.getElementById("rc-details"),c=function(a){if(a<=90)return 5;else if(a<=150)return 4;else if(a<=250)return 3;else if(a<=500)return 2;else if(a<=800)return 1;else return 0};Events.Event[ECMD_PINGCHAN].hooks.reqSuccess=function(d,e){if(Terminal._disconnected==true){Terminal._disconnected=false;$("body").removeClass("disconnected");$("#prompt").attr({disabled:false})}b.style.display="none";a.innerHTML="Ping: "+e+"ms";a.setAttribute("connection-level",c(e));b.style.display=""};Events.Event[ECMD_PINGCHAN].hooks.reqSuccessError=function(c,d){Terminal._disconnected=true;$("body").addClass("disconnected");$("#prompt").attr({disabled:"disabled"});b.style.display="none";a.innerHTML="x";a.setAttribute("connection-level","0");b.style.display=""}})();var a=function(){var a=window.screenX,b=window.screenY,c=250,d=function(){if(window.screenX!=a||window.screenY!=b){if(window.screenX<0){document.body.style.display="none";document.getElementById("wrapper2").style.left=-window.screenX+"px";document.getElementById("wrapper2").style.right="0px";document.getElementById("wrapper2").style.width="auto";document.getElementById("wrapper4").style.margin="0";document.body.style.display=""}else if(a<0){document.body.style.display="none";document.getElementById("wrapper2").style.left="";document.getElementById("wrapper2").style.right="";document.getElementById("wrapper2").style.width="";document.getElementById("wrapper4").style.margin="";document.body.style.display=""}a=window.screenX;b=window.screenY}setTimeout(d,350)};setTimeout(d,350)}();var b=function(){var a=document.getElementById("cw-colours-container"),b=document.createDocumentFragment(),c=settings.colourMap,d={showWindow:null,hideWindow:null,triggerWindow:null,_windowShowing:false},e;for(e in c){var f=document.createElement("a");f.style.background=c[e];f.setAttribute("href","#");f.details={colour:c[e],index:e};f.onclick=function(){var a=document.getElementById("prompt"),b=a.selectionStart,c=a.value,e="^"+this.details.index;if(isNaN(b))c+=e;else c=c.substr(0,b)+e+c.substr(b);a.value=c;d.hideWindow();return false};b.appendChild(f)}a.appendChild(b);d.showWindow=function(){setTimeout(function(){a.style.display="block";d._windowShowing=true},50)};d.hideWindow=function(){a.style.display="none";d._windowShowing=false};d.triggerWindow=function(){if(d._windowShowing)d.hideWindow();else d.showWindow()};return d}();Terminal.colourWin=b;document.getElementById("gd-colours").onclick=function(){b.triggerWindow();return false};var c=function(){var a=document.getElementById("ew-emoticons-container"),b=document.createDocumentFragment(),c=settings.emoticonMap,d={showWindow:null,hideWindow:null,triggerWindow:null,_windowShowing:false},e;for(e in c){var f=document.createElement("a"),g=document.createElement("img"),h=e;h=h.replace(/\\:/g,":").replace(/\\;/g,";").replace(/\\@/g,"@").replace(/\\\(/g,"(").replace(/\\\)/g,")").replace(/\\\[/g,"[").replace(/\\\]/g,"]").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\=/g,"=").replace(/\\\'/g,"'").replace(/\\\"/g,'"').replace(/\\\+/g,"+").replace(/\\\^/g,"^").replace(/\\\*/g,"*");g.setAttribute("src","images/emoticons/"+c[e]);f.setAttribute("href","#");f.details={emoticon:c[e],index:h};f.onclick=function(){var a=document.getElementById("prompt"),b=a.selectionStart,c=a.value,e=this.details.index;if(isNaN(b))c+=e;else c=c.substr(0,b)+e+c.substr(b);a.value=c;d.hideWindow();return false};f.appendChild(g);b.appendChild(f)}a.appendChild(b);d.showWindow=function(){setTimeout(function(){a.style.display="block";d._windowShowing=true},50)};d.hideWindow=function(){a.style.display="none";d._windowShowing=false};d.triggerWindow=function(){if(d._windowShowing)d.hideWindow();else d.showWindow()};return d}();Terminal.emoticonsWin=c;document.getElementById("gd-emoticons").onclick=function(){c.triggerWindow();return false};$("*").click(function(){Terminal.emoticonsWin.hideWindow();Terminal.colourWin.hideWindow();document.getElementById("prompt").focus()})};var e=function(){};var f=function(){document.getElementById("rc-section-bottom").oncontextmenu=function(){return false};document.getElementById("user-optionscontainer").oncontextmenu=function(){return false};document.getElementById("prompt").setAttribute("placeholder",settings._promptPlaceholder)};var g=function(){$("#fPrompt").submit(function(){var a=new Date;client._tMessageCreated=a.getTime();var b=$("#prompt").val();$("#prompt").val("");if(b=="")return false;var c=new Event,d=c.parse(b);if(d)d.request();return false});var a=settings.message_maxlen;$("#prompt").keyup(function(){var b=$("#prompt").val(),c=b.replace(/(\\|'|")/g,function(a){return"\\"+a});if(c.length>a){$(this).val($(this).attr("safeguard"))}else{$(this).attr("safeguard",b)}})};var h=function(){setTimeout(function(){Terminal.resizePage()},1e3)};a();b();c();d();f();e();g()};client.initialize()